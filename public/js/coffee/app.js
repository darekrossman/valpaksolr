// Generated by CoffeeScript 1.6.2
(function() {
  var app, appConfig, deps;

  deps = ['app.filters', 'app.services', 'app.directives', 'app.controllers', 'ngResource', 'ngCookies'];

  appConfig = [
    '$routeProvider', '$locationProvider', '$httpProvider', function($routeProvider, $locationProvider, $httpProvider) {
      $routeProvider.when('/coupons/home', {
        templateUrl: '/partials/home.jade',
        controller: 'HomeController'
      }).when('/coupons/query', {
        templateUrl: '/partials/results.layout.jade',
        controller: 'ListingController',
        resolve: {
          list: function($q) {
            var d;

            d = $q.defer();
            d.resolve('REJECT!');
            return d.promise;
          }
        }
      }).when('/coupons/local-coupons/:category/:geo', {
        templateUrl: '/partials/results.layout.jade',
        controller: 'ListingController'
      }).when('/listing/profile/:profileId', {
        templateUrl: '/partials/business_profile.jade',
        controller: 'BusinessProfileController',
        resolve: {
          profile: function(BusinessProfileLoader) {
            return BusinessProfileLoader();
          }
        }
      }).otherwise({
        redirectTo: '/'
      });
      return $locationProvider.html5Mode(true).hashPrefix('!');
    }
  ];

  app = angular.module('app', deps);

  app.config(appConfig);

  app.run([
    '$rootScope', '$log', 'User', function($rootScope, $log, User) {
      $rootScope.debug = $log.debug;
      $rootScope.user = User;
      return (function(d) {
        var id, js, ref;

        id = 'facebook-jssdk';
        ref = d.getElementsByTagName('script')[0];
        if (d.getElementById(id)) {
          return;
        }
        js = d.createElement('script');
        js.id = id;
        js.async = true;
        js.src = "//connect.facebook.net/en_US/all.js";
        return ref.parentNode.insertBefore(js, ref);
      })(document);
    }
  ]);

}).call(this);

/*
//@ sourceMappingURL=app.map
*/
